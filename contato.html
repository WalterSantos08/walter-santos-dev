<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <!--google fontes-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;
    0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <!--final google fontes-->
    <!--bootstrap icons-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <!--bootstrap icons-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="images/logo.png" type="image/png">
    
    <title>Walter Santos dev</title>
</head>
<body>
    
    <header>
        <div class="interface">
            <div class="logo">
                <a href="#">
                    <img src="images/logo.png" alt="logo walter santos dev">
                </a>
            </div><!--logo-->

            <nav class="menu-desktop">
                <ul>
                    <li><a href="index.html">Inicio</a></li>
                    <li><a href="Especialidades.html">Especialidades</a></li>
                    <li><a href="sobre.html">Sobre</a></li>
                    <li><a href="projetos.html">Projetos</a></li>
                </ul>
            </nav>

            <div class="btn-contato">
                <a href="#"></a>
                    <button>Contato</button>

            </div>
        </div><!--interface-->
    </header>

    <main>
        
        <section class="formulario">
            <div class="interface">
                <h2 class="titulo">FALA <span>COMIGO.</span></h2>

                <!-- Formulário atualizado para uso com JavaScript -->
                <form id="contactForm">
                    <input type="text" name="nome" id="nome" placeholder="Seu nome completo" required>
                    <input type="email" name="email" id="email" placeholder="Seu E-mail" required>
                    <input type="text" name="celular" id="celular" placeholder="Seu celular">
                    <textarea name="mensagem" id="mensagem" placeholder="Sua mensagem" required></textarea>
                    <div class="btn-enviar"><input type="submit" value="ENVIAR"></div>
                </form>

                <!-- Mensagem de sucesso ou erro -->
                <p id="responseMessage" style="display:none;"></p>

            </div><!--interface-->
        </section><!--formulario-->

    </main>

    <footer>
        <div class="interface">
            <div class="line-footer">
                <div class="flex">
                    <div class="logo-footer">
                        <img src="images/logo.png" alt="Walter Santos DEV">

                    </div><!--logo-footer-->
                    <div class="btn-social">
                        <a href="https://www.instagram.com/waltersantos08/"><button><i class="bi bi-instagram"></i></button></a>
                        <a href="https://www.youtube.com/@waltersantos7717"><button><i class="bi bi-youtube"></i></button></a>
                        <a href="https://www.linkedin.com/in/walter-santos94/"><button><i class="bi bi-linkedin"></i></button></a>
                        <a href="https://github.com/WalterSantos08"><button><i class="bi bi-github"></i></button></a>
                    </div><!--btn-social-->
            </div><!--flex-->
            </div><!--line-footer-->
            <div class="line-footer borda">
                <p><i class="bi bi-envelope-fill"></i><a href="mailto:waltersantosfilho94@gmail.com">waltersantosfilho94@gmail.com</a></p>


            </div><!--line-footer-->
        </div><!--interface-->
    </footer>

    <!-- Script para enviar os dados do formulário -->
    <script>
        document.getElementById('contactForm').addEventListener('submit', async function (event) {
            event.preventDefault(); // Evita o recarregamento da página

            const responseMessage = document.getElementById('responseMessage');
            responseMessage.style.display = 'none';

            const formData = {
                nome: document.getElementById('nome').value,
                email: document.getElementById('email').value,
                celular: document.getElementById('celular').value,
                mensagem: document.getElementById('mensagem').value,
            };

            try {
                const response = await fetch('/.netlify/send-email', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(formData),
                });

                if (response.ok) {
                    responseMessage.style.display = 'block';
                    responseMessage.textContent = 'E-mail enviado com sucesso!';
                    responseMessage.style.color = 'green';
                } else {
                    throw new Error('Erro ao enviar o e-mail.');
                }
            } catch (error) {
                responseMessage.style.display = 'block';
                responseMessage.textContent = error.message;
                responseMessage.style.color = 'red';
            }
        });
    </script>

</body>
</html>
